const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-Ct7ToVRx.js","./index-CV65Cz2T.js","./index-BuiljCIz.js","./ApiRef-DSSgzaW4.js","./ref-8pKZtiZi.js","./CustomHomepageGrid-eVNjuQ4c.js","./index-BDlCPcVq.js","./index-V23z6GDy.js","./lodash-D2SO6J9k.js","./WebStorage-DIH418uN.js","./index-DWA0-5lI.js","./interopRequireDefault-Y9pwbXtE.js","./createSvgIcon-B8CqyWGr.js","./capitalize-BKQXumqD.js","./defaultTheme-dorO8Ycy.js","./withStyles-5L4Wrt0H.js","./hoist-non-react-statics.cjs-DscmM33_.js","./createChainedFunction-Da-WpsAN.js","./createSvgIcon-BE9FbSc8.js","./debounce-DtXjJkxj.js","./isMuiElement-DG475NJP.js","./ownerWindow-D1FXuRdm.js","./useIsFocusVisible-B2Dvw-Ws.js","./useControlled-ltvK4nzt.js","./unstable_useId-DsWtIzNz.js","./jsx-runtime-B1AhRb-V.js","./isSymbol-B6IIivl5.js","./appWrappers-Bpr7p6n0.js","./MockTranslationApi-cJ1q0vu7.js","./classCallCheck-BNzALLS0.js","./inherits-CeNoR6ST.js","./toArray-COxZ3wB-.js","./TranslationApi-BZ5LsqDR.js","./ConfigApi-BmcvyZGI.js","./useAnalytics-BvU8z2Qw.js","./useAsync-cwiHyrW_.js","./useMountedState-BG_s6PIB.js","./componentData-Ch1YzSDK.js","./isObject-CDdS0vB1.js","./toString-C4GbLIMt.js","./ApiProvider-BkbfiZHS.js","./CssBaseline-Lx8PNlwq.js","./ThemeProvider-Cal7rCVq.js","./palettes-C1DVN5xY.js","./_baseSlice-z0Zd1-Ev.js","./_arrayReduce-B24CUDp3.js","./toNumber-bpgnJ3aS.js","./Add-bbc-uqce.js","./IconButton-C1StEALi.js","./ButtonBase-BmmJ3DqQ.js","./TransitionGroupContext-C1n1zRT4.js","./Grid-BB-GYNIy.js","./Box-D_ilMR00.js","./typography-Cs1aOEfH.js","./Paper-BZMBdJdO.js","./TextField-DASPyH1c.js","./FormLabel-ZM__TfMd.js","./formControlState-ByiNFc8I.js","./useFormControl-Cf2zJBza.js","./InputLabel-TJ3WLnKL.js","./Select-DgzZcFF3.js","./react-is.production.min-D0tnNtx9.js","./useTheme-Dmunefpm.js","./Popover-CBgFdLcm.js","./Modal-oVOw44lR.js","./Portal-nleYRD7c.js","./Grow-jzu4TrlJ.js","./utils-BzL8OB8Z.js","./List-D3T44CW6.js","./ListContext-DDd8B5Hf.js","./Typography-ClGfHewG.js","./ListItem-D7qWqnZh.js","./ListItemIcon-CXXFlTRn.js","./ListItemText-Db7RxVPo.js","./Remove-UuzpCmRE.js","./useCopyToClipboard-CYpdtXo0.js","./Button-BXP3PAcX.js","./Divider-YBHdkOJo.js","./FormControlLabel-C5oYsyN3.js","./Checkbox-N3VC8DLU.js","./SwitchBase-Drrn9HDW.js","./RadioGroup-Dks_Q_yj.js","./MenuItem-ChWKH140.js","./makeStyles-B2ffWluB.js","./createStyles-Bp4GwXob.js","./createStyles-yD3y8ldD.js","./DialogTitle-C9V4cO2d.js","./Backdrop-COCpULpW.js","./Tooltip-CvCyiOW0.js","./Popper-B0nlBGvk.js","./ListItemAvatar-HDSrhfQb.js","./Edit-CVQRAF56.js","./Cancel-DOY7h7RI.js","./ContentHeader-BRCxSK1q.js","./Helmet-BCx2os5_.js","./ErrorBoundary-yEashQqX.js","./translation-CnlFI5r0.js","./ErrorPanel-BQjZjf99.js","./WarningPanel-wkUlCjZz.js","./ExpandMore-BrK1WZVt.js","./AccordionDetails-Dgmh1IWb.js","./Collapse-DTvmz7EI.js","./MarkdownContent-CjrAtGKo.js","./CodeSnippet-BiV4Fa57.js","./iframe-CYsdv7O4.js","./objectWithoutProperties-Et-85jJS.js","./toConsumableArray-BEwiObev.js","./CopyTextButton-DpByJkDA.js","./LinkButton-DPLapdeb.js","./Link-cF2f6PTF.js","./index-DSEhRz7_.js","./useElementFilter-D65mBbki.js","./CustomHomepageGrid-B9caxcv4.css","./Plugin-DiuNzj8P.js","./useRouteRef-DpQDGLPk.js","./InfoCard-CXOnMrzF.js","./CardActions-BQPFvyux.js","./CardContent-B5iYBdc5.js","./CardHeader-DAExE-wZ.js","./BottomLink-CLoxoKIq.js","./ArrowForward-DyDxQ18k.js","./index-8_XGLcb5.js","./ComponentAccordion-D1PJ-taG.js","./Tabs-ByMp62KU.js","./KeyboardArrowRight-DUUcGvVE.js","./index-Wqqym-Sn.js","./index-JXTDh3M1.js","./index-0FRzZ3V5.js","./upperFirst-Ct_CXT4D.js","./index-edWmWJ3D.js","./index-CpS9QL1Z.js","./routes-DTGbDF4l.js","./EntityDisplayName-EKaDj_vp.js","./FavoriteToggle-BB9Q7XZu.js","./icons-DFPVwCCA.js","./api-Dhu4LCq-.js","./StarredEntitiesApi-CrZIwefb.js","./Progress-kfdSBR2S.js","./LinearProgress-fCCbEIFE.js","./ResponseErrorPanel-CIiek7Ok.js","./index-Bss9M2gW.js","./HeaderLabel-BdtO38sh.js","./TopVisited-Db5MUbA6.js","./index-ApnWjobN.js","./Chip-Bf2ntM-b.js","./clsx.m-CH7BE6MN.js","./RecentlyVisited-BsovtEjV.js","./index-D7ru3BUo.js","./EmptyState-BSpQ-Hmk.js","./index-BhrQXC6L.js"])))=>i.map(i=>d[i]);
var D=Object.defineProperty;var S=(i,e,o)=>e in i?D(i,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[e]=o;var _=(i,e,o)=>S(i,typeof e!="symbol"?e+"":e,o);import{_ as c}from"./iframe-CYsdv7O4.js";import{a as L,b as P}from"./appWrappers-Bpr7p6n0.js";import{a as k,c as O,b as V,d}from"./Plugin-DiuNzj8P.js";import{c as w}from"./ApiRef-DSSgzaW4.js";import{R as a,a as x,r as y}from"./index-CV65Cz2T.js";import{i as H}from"./interopRequireDefault-Y9pwbXtE.js";import{r as z,i as K}from"./createSvgIcon-B8CqyWGr.js";import{I as $}from"./IconButton-C1StEALi.js";import{I as F}from"./InfoCard-CXOnMrzF.js";import{D as M,a as B,b as N,c as W}from"./DialogTitle-C9V4cO2d.js";import{B as J}from"./Button-BXP3PAcX.js";import{b as Q}from"./index-BuiljCIz.js";import{s as j}from"./WebStorage-DIH418uN.js";import{i as U}from"./MockTranslationApi-cJ1q0vu7.js";const A=i=>{const{open:e,close:o,componentName:t,children:r}=i;return a.createElement(M,{open:e,onClose:()=>o()},a.createElement(B,null,t?`Settings - ${t}`:"Settings"),a.createElement(N,null,r),a.createElement(W,null,a.createElement(J,{onClick:()=>o(),color:"primary",variant:"contained"},"Close")))};A.__docgenInfo={description:"@public",methods:[],displayName:"SettingsModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},close:{required:!0,tsType:{name:"Function"},description:""},componentName:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"JSX.Element"},description:""}}};var v={},X=H,Y=K;Object.defineProperty(v,"__esModule",{value:!0});var C=v.default=void 0,G=Y(x()),Z=X(z()),q=(0,Z.default)(G.createElement("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");C=v.default=q;function p(i){const{title:e,components:o,name:t,description:r,layout:n,settings:s}=i,l=(s==null?void 0:s.schema)!==void 0;return k({name:t,data:{title:e,description:r,"home.widget.config":{layout:n,settings:s}},component:{lazy:()=>o().then(u=>g=>a.createElement(ee,{...g,...u,title:g.title||e,isCustomizable:l}))}})}function ee(i){const{Renderer:e,Content:o,Settings:t,Actions:r,ContextProvider:n,isCustomizable:s,title:l,...u}=i,g=Q(),{Progress:f}=g.getComponents(),[b,h]=a.useState(!1);if(e)return a.createElement(y.Suspense,{fallback:a.createElement(f,null)},a.createElement(e,{...l&&{title:l},Content:o,...r?{Actions:r}:{},...t&&!s?{Settings:t}:{},...n?{ContextProvider:n}:{},...u}));const I={divider:!!l,...l&&{title:l},...t&&!s?{action:a.createElement($,{onClick:()=>h(!0)},a.createElement(C,null,"Settings"))}:{},...r?{actions:a.createElement(r,null)}:{}},R=a.createElement(F,{...I},t&&!s&&a.createElement(A,{open:b,componentName:l,close:()=>h(!1)},a.createElement(t,null)),a.createElement(o,{...u}));return a.createElement(y.Suspense,{fallback:a.createElement(f,null)},n?a.createElement(n,{...u},R):R)}const T=L({id:"home"}),te=8;class E{constructor(e){_(this,"limit");_(this,"storageApi");_(this,"storageKeyPrefix","@backstage/plugin-home:visits");_(this,"identityApi");this.limit=Math.abs(e.limit??100),this.storageApi=e.storageApi,this.identityApi=e.identityApi}static create(e){return new E(e)}async list(e){let o=[...await this.retrieveAll()];return((e==null?void 0:e.orderBy)??[]).reverse().forEach(t=>{t.direction==="asc"?o.sort((r,n)=>this.compare(t,r,n)):o.sort((r,n)=>this.compare(t,n,r))}),((e==null?void 0:e.filterBy)??[]).reverse().forEach(t=>{o=o.filter(r=>{const n=r[t.field];return t.operator===">"?n>t.value:t.operator===">="?n>=t.value:t.operator==="<"?n<t.value:t.operator==="<="?n<=t.value:t.operator==="=="?n===t.value:t.operator==="!="?n!==t.value:t.operator==="contains"?`${n}`.includes(`${t.value}`):!1})}),o.slice(0,(e==null?void 0:e.limit)??te)}async save(e){const o=[...await this.retrieveAll()],t={...e.visit,id:window.crypto.randomUUID(),hits:1,timestamp:Date.now()},r=o.findIndex(n=>n.pathname===t.pathname);return r>=0?(t.id=o[r].id,t.hits=o[r].hits+1,o[r]=t):o.push(t),o.sort((n,s)=>s.timestamp-n.timestamp),await this.persistAll(o.splice(0,this.limit)),t}async persistAll(e){const o=await this.getStorageKey();return this.storageApi.set(o,e)}async retrieveAll(){const e=await this.getStorageKey(),o=this.storageApi.snapshot(e);return(o==null?void 0:o.presence)!=="unknown"?(o==null?void 0:o.value)??[]:new Promise((t,r)=>{const n=this.storageApi.observe$(e).subscribe({next:s=>{const l=s.value??[];n.unsubscribe(),t(l)},error:s=>{n.unsubscribe(),r(s)}})})}async getStorageKey(){const{userEntityRef:e}=await this.identityApi.getBackstageIdentity();return`${this.storageKeyPrefix}:${e}`}compare(e,o,t){return typeof o[e.field]=="number"?o[e.field]-t[e.field]:`${o[e.field]}`.localeCompare(`${t[e.field]}`)}}const fe=i=>["<","<=","==","!=",">",">=","contains"].includes(i),oe=w({id:"homepage.visits"}),m=O({id:"home",apis:[P({api:oe,deps:{storageApi:j,identityApi:U},factory:({storageApi:i,identityApi:e})=>E.create({storageApi:i,identityApi:e})})],routes:{root:T}});m.provide(V({name:"HomepageCompositionRoot",component:()=>c(()=>import("./index-Ct7ToVRx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120]),import.meta.url).then(i=>i.HomepageCompositionRoot),mountPoint:T}));m.provide(d({name:"ComponentAccordion",component:{lazy:()=>c(()=>import("./index-8_XGLcb5.js"),__vite__mapDeps([121,122,1,99,11,12,13,14,15,16,17,18,19,20,21,22,7,23,24,83,100,31,61,54,101,67,50,62,49,48,70,123,124,115,110,116,117,95,96,32,3,97,98,102,6,103,104,105,29,30,106,52,53,107,75,36,88,89,65,66,51,68,69,71,73,108,109,8,2,34,33,76,118,77,119,120,27,28,10,9,35,37,26,38,39,40,41,42,25,43,113,114,86,64,87]),import.meta.url).then(i=>i.ComponentAccordion)}}));m.provide(d({name:"ComponentTabs",component:{lazy:()=>c(()=>import("./index-8_XGLcb5.js"),__vite__mapDeps([121,122,1,99,11,12,13,14,15,16,17,18,19,20,21,22,7,23,24,83,100,31,61,54,101,67,50,62,49,48,70,123,124,115,110,116,117,95,96,32,3,97,98,102,6,103,104,105,29,30,106,52,53,107,75,36,88,89,65,66,51,68,69,71,73,108,109,8,2,34,33,76,118,77,119,120,27,28,10,9,35,37,26,38,39,40,41,42,25,43,113,114,86,64,87]),import.meta.url).then(i=>i.ComponentTabs)}}));m.provide(d({name:"ComponentTab",component:{lazy:()=>c(()=>import("./index-8_XGLcb5.js"),__vite__mapDeps([121,122,1,99,11,12,13,14,15,16,17,18,19,20,21,22,7,23,24,83,100,31,61,54,101,67,50,62,49,48,70,123,124,115,110,116,117,95,96,32,3,97,98,102,6,103,104,105,29,30,106,52,53,107,75,36,88,89,65,66,51,68,69,71,73,108,109,8,2,34,33,76,118,77,119,120,27,28,10,9,35,37,26,38,39,40,41,42,25,43,113,114,86,64,87]),import.meta.url).then(i=>i.ComponentTab)}}));m.provide(d({name:"WelcomeTitle",component:{lazy:()=>c(()=>import("./index-Wqqym-Sn.js"),__vite__mapDeps([125,1,35,36,88,14,7,13,15,16,22,24,23,62,89,17,65,66,67,50,70,3,28,10,29,30,31,32]),import.meta.url).then(i=>i.WelcomeTitle)}}));const he=m.provide(d({name:"CompanyLogo",component:{lazy:()=>c(()=>import("./index-JXTDh3M1.js"),__vite__mapDeps([126,1,70,14,13,15,16,3,33]),import.meta.url).then(i=>i.CompanyLogo)}})),Re=m.provide(p({name:"HomePageRandomJoke",title:"Random Joke",components:()=>c(()=>import("./index-0FRzZ3V5.js"),__vite__mapDeps([127,1,76,14,13,15,16,49,7,22,21,50,70,128,44,39,26,56,57,20,58,81,80,23,48,18,17,24,78]),import.meta.url),description:"Shows a random joke about optional category",layout:{height:{minRows:4},width:{minColumns:3}},settings:{schema:{title:"Random Joke settings",type:"object",properties:{defaultCategory:{title:"Category",type:"string",enum:["any","programming","dad"],default:"any"}}}}})),ye=m.provide(p({name:"HomePageToolkit",title:"Toolkit",components:()=>c(()=>import("./index-edWmWJ3D.js"),__vite__mapDeps([129,1,83,14,68,13,15,16,69,72,73,70,109,110,8,7,2,3,11,12,17,18,19,20,21,22,23,24,34,33]),import.meta.url)})),Ae=m.provide(p({name:"HomePageStarredEntities",title:"Your Starred Entities",components:()=>c(()=>import("./index-CpS9QL1Z.js"),__vite__mapDeps([130,1,35,36,109,110,8,7,2,3,11,12,13,14,15,16,17,18,19,20,21,22,23,24,83,34,33,70,131,27,28,10,29,30,31,32,9,37,26,38,39,40,6,41,42,25,43,4,71,69,49,50,72,73,132,52,53,88,62,89,65,66,67,114,133,48,134,135,136,68,123,61,124,137,138,139,97,98,99,100,54,101,102,103,104,105,106,107,75,96,51,77]),import.meta.url)}));m.provide(d({name:"HeaderWorldClock",component:{lazy:()=>c(()=>import("./index-Bss9M2gW.js"),__vite__mapDeps([140,1,141,83,14,51,13,15,16,70,109,110,8,7,2,3,11,12,17,18,19,20,21,22,23,24,34,33]),import.meta.url).then(i=>i.HeaderWorldClock)}}));m.provide(p({name:"HomePageTopVisited",title:"Top Visited",components:()=>c(()=>import("./TopVisited-Db5MUbA6.js"),__vite__mapDeps([142,143,1,83,14,70,13,15,16,109,110,8,7,2,3,11,12,17,18,19,20,21,22,23,24,34,33,144,49,50,43,4,71,69,90,73,101,67,62,145,68,35,36,76,104,27,28,10,29,30,31,32,9,37,26,38,39,40,6,41,42,25,113,114,48,115,116,117,54,95,96,97,98,99,100,61,102,103,105,106,52,53,107,75,88,89,65,66,51,108,118,77,119,120,86,64,87]),import.meta.url)}));m.provide(p({name:"HomePageRecentlyVisited",title:"Recently Visited",components:()=>c(()=>import("./RecentlyVisited-BsovtEjV.js"),__vite__mapDeps([146,143,1,83,14,70,13,15,16,109,110,8,7,2,3,11,12,17,18,19,20,21,22,23,24,34,33,144,49,50,43,4,71,69,90,73,101,67,62,145,68,35,36,76,104,27,28,10,29,30,31,32,9,37,26,38,39,40,6,41,42,25,113,114,48,115,116,117,54,95,96,97,98,99,100,61,102,103,105,106,52,53,107,75,88,89,65,66,51,108,118,77,119,120,86,64,87]),import.meta.url)}));const Ce=m.provide(p({name:"FeaturedDocsCard",title:"Featured Docs",components:()=>c(()=>import("./index-D7ru3BUo.js"),__vite__mapDeps([147,1,35,36,83,14,135,3,97,98,11,12,13,15,16,17,18,19,20,21,22,7,23,24,99,100,31,61,54,101,67,50,62,49,48,70,102,6,103,104,105,29,30,106,52,53,107,75,96,32,88,89,65,66,51,68,69,71,73,137,138,109,110,8,2,34,33,132,27,28,10,9,37,26,38,39,40,41,42,25,43,4,148,108,76]),import.meta.url)})),Te=m.provide(p({name:"QuickStartCard",title:"Quick Start",components:()=>c(()=>import("./index-BhrQXC6L.js"),__vite__mapDeps([149,1,83,14,64,7,21,17,22,29,15,16,65,52,53,109,110,8,2,3,11,12,13,18,19,20,23,24,34,33,70,51]),import.meta.url)}));export{Ce as F,Re as H,Te as Q,A as S,Ae as a,he as b,ye as c,C as d,p as e,m as h,fe as i,T as r,oe as v};
