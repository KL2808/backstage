import{i as I}from"./interopRequireDefault-Y9pwbXtE.js";import{r as N,i as _}from"./createSvgIcon-B6km7FGr.js";import{r as c,R as n,a as R}from"./index-CV65Cz2T.js";import{d as be}from"./Search-CxJhTxYK.js";import{c as v}from"./index-DSEhRz7_.js";import{a as ge}from"./Link-DO8PRcPs.js";import{S,a as U}from"./Page-1qYVOUhj.js";import{d as z}from"./ArrowBackIos-fa9YVGr_.js";import{m as y}from"./makeStyles-CkJZxfhX.js";import{B as m,s as w}from"./Box-Y2gNioDL.js";import{d as B}from"./ArrowForwardIos-BkHUGadJ.js";import{b as ve}from"./ApiRef-DSSgzaW4.js";import{a as Se}from"./ConfigApi-BmcvyZGI.js";import{T as V}from"./Typography-DFGLiOLt.js";import{l as C}from"./lodash-D2SO6J9k.js";import{q as F}from"./index-1RSfPQyn.js";import{u as Q,h as X,r as H}from"./index-BuiljCIz.js";import{B as ye}from"./Badge-Bq56obCx.js";import{B as Y}from"./Button-MxgjmgAV.js";import{T as we}from"./TextField-DGe9sU5n.js";import{u as K}from"./useMediaQuery-CFogxaVT.js";import{u as xe}from"./useAnalytics-BvU8z2Qw.js";import{u as G}from"./useElementFilter-DldMryLW.js";const J={isOpen:!1,setOpen:()=>{}},Z=c.createContext(J),ee=ve("sidebar-open-state-context");function Ee(e){const{children:t,value:r}=e;return n.createElement(Z.Provider,{value:r},n.createElement(ee.Provider,{value:Se({1:r})},t))}const O=()=>{const e=c.useContext(ee),t=c.useContext(Z);if(e===void 0)return t||J;const r=e.atVersion(1);if(r===void 0)throw new Error("No context found for version 1.");return r};Ee.__docgenInfo={description:`Provides context for reading and updating sidebar state.

@public`,methods:[],displayName:"SidebarOpenStateProvider",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},value:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * Whether or not the sidebar is open and full-width. When \`false\`, the
   * sidebar is "closed" and typically only shows icons with no text.
   */
  isOpen: boolean;

  /**
   * A function to set whether or not the sidebar is open. Pass \`true\` to open
   * the sidebar. Pass \`false\` to close it.
   */
  setOpen: (open: boolean) => void;
}`,signature:{properties:[{key:"isOpen",value:{name:"boolean",required:!0},description:'Whether or not the sidebar is open and full-width. When `false`, the\nsidebar is "closed" and typically only shows icons with no text.'},{key:"setOpen",value:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}},required:!0},description:"A function to set whether or not the sidebar is open. Pass `true` to open\nthe sidebar. Pass `false` to close it."}]}},description:""}}};var W={},Ce=I,ke=_;Object.defineProperty(W,"__esModule",{value:!0});var te=W.default=void 0,Ie=ke(R()),Ne=Ce(N()),_e=(0,Ne.default)(Ie.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");te=W.default=_e;var q={},Re=I,Oe=_;Object.defineProperty(q,"__esModule",{value:!0});var ne=q.default=void 0,We=Oe(R()),qe=Re(N()),Pe=(0,qe.default)(We.createElement("path",{d:"M7 14l5-5 5 5z"}),"ArrowDropUp");ne=q.default=Pe;function j(e,t,r=!1){const a=new URLSearchParams(t.search).toString(),o=F.parse(a),i=new URLSearchParams(e.search).toString(),l=F.parse(i),u=r?C.isEqual:C.isMatch;return C.isEqual(t.pathname,e.pathname)&&u(l,o)}const $e=y(e=>({root:{zIndex:1e3,position:"relative",overflow:"visible",width:e.spacing(7)+1},drawer:t=>{var r;return{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",opacity:0,[e.breakpoints.up("sm")]:{marginLeft:t.left,transition:e.transitions.create(["margin-left","opacity"],{easing:e.transitions.easing.sharp,duration:t.submenuConfig.defaultOpenDelayMs})},top:0,bottom:0,padding:0,background:((r=e.palette.navigation.submenu)==null?void 0:r.background)??"#404040",overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",cursor:"default",width:t.submenuConfig.drawerWidthClosed,transitionDelay:`${t.submenuConfig.defaultOpenDelayMs}ms`,"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}},drawerOpen:t=>({marginLeft:t.left,opacity:1,width:t.submenuConfig.drawerWidthOpen,[e.breakpoints.down("xs")]:{width:"100%",position:"relative",paddingLeft:e.spacing(3),left:0,top:0}}),title:{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.fontWeightMedium,color:e.palette.navigation.color,padding:e.spacing(2.5),[e.breakpoints.down("xs")]:{display:"none"}}}),{name:"BackstageSidebarSubmenu"}),ae=e=>{const{isOpen:t}=O(),{sidebarConfig:r,submenuConfig:a}=c.useContext(S),o=t?r.drawerWidthOpen:r.drawerWidthClosed,i=$e({left:o,submenuConfig:a}),{isHoveredOn:l}=c.useContext(U),[u,p]=c.useState(!1);return c.useEffect(()=>{p(l)},[l]),n.createElement(m,{className:v(i.drawer,{[i.drawerOpen]:u})},n.createElement(V,{variant:"h5",component:"span",className:i.title},e.title),e.children)};ae.__docgenInfo={description:`Used inside SidebarItem to display an expandable Submenu

@public`,methods:[],displayName:"SidebarSubmenu",props:{title:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};var P={},Ae=I,De=_;Object.defineProperty(P,"__esModule",{value:!0});var $=P.default=void 0,Le=De(R()),Me=Ae(N()),Te=(0,Me.default)(Le.createElement("path",{d:"M10 17l5-5-5-5v10z"}),"ArrowRight");$=P.default=Te;const ze=y({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),re=()=>{const e=ze();return n.createElement(m,{className:e.iconContainer},n.createElement(m,{className:e.arrow1},n.createElement(z,{style:{fontSize:"12px"}})),n.createElement(m,null,n.createElement(z,{style:{fontSize:"12px"}})))};re.__docgenInfo={description:"",methods:[],displayName:"DoubleArrowLeft"};const Be=y({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),oe=()=>{const e=Be();return n.createElement(m,{className:e.iconContainer},n.createElement(m,{className:e.arrow1},n.createElement(B,{style:{fontSize:"12px"}})),n.createElement(m,null,n.createElement(B,{style:{fontSize:"12px"}})))};oe.__docgenInfo={description:"",methods:[],displayName:"DoubleArrowRight"};const Fe=e=>y(t=>{var r,a;return{root:{color:t.palette.navigation.color,display:"flex",flexFlow:"row nowrap",alignItems:"center",height:48,cursor:"pointer"},buttonItem:{background:"none",border:"none",width:"100%",margin:0,padding:0,textAlign:"inherit",font:"inherit",textTransform:"none"},closed:{width:e.drawerWidthClosed,justifyContent:"center"},open:{[t.breakpoints.up("sm")]:{width:e.drawerWidthOpen}},highlightable:{"&:hover":{background:((r=t.palette.navigation.navItem)==null?void 0:r.hoverBackground)??"#404040"}},highlighted:{background:((a=t.palette.navigation.navItem)==null?void 0:a.hoverBackground)??"#404040"},label:{fontWeight:"bold",whiteSpace:"nowrap",lineHeight:"auto",flex:"3 1 auto",width:"110px",overflow:"hidden","text-overflow":"ellipsis"},iconContainer:{boxSizing:"border-box",height:"100%",width:e.iconContainerWidth,marginRight:-t.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"0"},searchRoot:{marginBottom:12},searchField:{color:"#b5b5b5",fontWeight:t.typography.fontWeightBold,fontSize:t.typography.fontSize},searchFieldHTMLInput:{padding:t.spacing(2,0,2)},searchContainer:{width:e.drawerWidthOpen-e.iconContainerWidth},secondaryAction:{width:t.spacing(6),textAlign:"center",marginRight:t.spacing(1)},closedItemIcon:{width:"100%",justifyContent:"center"},submenuArrow:{display:"flex"},expandButton:{background:"none",border:"none",color:t.palette.navigation.color,width:"100%",cursor:"pointer",position:"relative",height:48},arrows:{position:"absolute",right:10},selected:{"&$root":{borderLeft:`solid ${e.selectedIndicatorWidth}px ${t.palette.navigation.indicator}`,color:t.palette.navigation.selectedColor},"&$closed":{width:e.drawerWidthClosed},"& $closedItemIcon":{paddingRight:e.selectedIndicatorWidth},"& $iconContainer":{marginLeft:-e.selectedIndicatorWidth}}}},{name:"BackstageSidebarItem"});function x(e){return c.useMemo(()=>Fe(e),[e])()}const He=(e,t)=>G(e.props.children,r=>{let a=!1;return r.getElements().forEach(({props:{to:o,dropdownItems:i}})=>{if(!a){if(i!=null&&i.length){i.forEach(({to:l})=>a=a||j(t,H(l)));return}o&&(a=j(t,H(o)))}}),a},[t.pathname]);function k(e){return e.to===void 0}const je=n.createElement(ae).type,ie=n.forwardRef(function({to:t,end:r,style:a,className:o,activeStyle:i,caseSensitive:l,activeClassName:u="active","aria-current":p="page",...f},h){let{pathname:s}=Q(),{pathname:b}=X(t);l||(s=s.toLocaleLowerCase("en-US"),b=b.toLocaleLowerCase("en-US"));let d=s===b;!d&&!r&&(d=s.startsWith(`${b}/`));const g=d?p:void 0;return n.createElement(ge,{...f,to:t,ref:h,"aria-current":g,style:{...a,...d?i:void 0},className:v([typeof o!="function"?o:void 0,d?u:void 0])})}),se=c.forwardRef((e,t)=>{const{icon:r,text:a,hasNotifications:o=!1,hasSubmenu:i=!1,disableHighlight:l=!1,onClick:u,noTrack:p,children:f,className:h,...s}=e,{sidebarConfig:b}=c.useContext(S),d=x(b),{isOpen:g}=O(),ce=!g&&i?{display:"flex",marginLeft:"20px"}:{lineHeight:"0"},de=n.createElement(m,{style:ce},n.createElement(r,{fontSize:"small"}),!g&&i?n.createElement($,{fontSize:"small"}):n.createElement(n.Fragment,null)),A=n.createElement(ye,{color:"secondary",variant:"dot",overlap:"circular",invisible:!o,className:v({[d.closedItemIcon]:!g})},de),ue=n.createElement(n.Fragment,null,n.createElement(m,{"data-testid":"login-button",className:d.iconContainer},A),a&&n.createElement(V,{variant:"subtitle2",component:"span",className:d.label},a),n.createElement("div",{className:d.secondaryAction},f)),D=g?ue:A,L={onClick:u,className:v(h,d.root,g?d.open:d.closed,k(e)&&d.buttonItem,{[d.highlightable]:!l})},M=xe(),{pathname:E}=X(!k(e)&&e.to?e.to:""),T=c.useCallback(pe=>{if(!p){const me="click",fe=a??"Sidebar Item",he=E?{attributes:{to:E}}:void 0;M.captureEvent(me,fe,he)}u==null||u(pe)},[M,a,E,p,u]);return k(e)?n.createElement(Y,{role:"button","aria-label":a,...L,ref:t,onClick:T},D):n.createElement(ie,{...L,activeClassName:d.selected,to:e.to?e.to:"",ref:t,"aria-label":a||e.to,...s,onClick:T},D)}),Ue=({children:e,...t})=>{const{sidebarConfig:r}=c.useContext(S),a=x(r),[o,i]=c.useState(!1),l=Q(),u=He(e,l),p=K(b=>b.breakpoints.down("sm")),f=()=>{i(!0)},h=()=>{i(!1)},s=()=>p?o?n.createElement(ne,{fontSize:"small",className:a.submenuArrow}):n.createElement(te,{fontSize:"small",className:a.submenuArrow}):!o&&n.createElement($,{fontSize:"small",className:a.submenuArrow});return n.createElement(U.Provider,{value:{isHoveredOn:o,setIsHoveredOn:i}},n.createElement("div",{"data-testid":"item-with-submenu",onMouseLeave:h,onTouchStart:o?h:f,onMouseEnter:f,className:v(o&&a.highlighted)},n.createElement(se,{hasSubmenu:!0,className:u?a.selected:"",...t},s()),o&&e))},le=c.forwardRef((e,t)=>{const[r]=G(e.children,a=>a.getElements().filter(o=>o.type===je));return r?n.createElement(Ue,{...e},r):n.createElement(se,{...e,ref:t})});function Ve(e){const{sidebarConfig:t}=c.useContext(S),[r,a]=c.useState(""),o=x(t),i=e.icon?e.icon:be,l=()=>{e.onSearch(r),a("")},u=s=>{s.key==="Enter"&&(s.preventDefault(),l())},p=s=>{a(s.target.value)},f=s=>{s.preventDefault(),s.stopPropagation()},h=s=>{l(),s.preventDefault()};return n.createElement(m,{className:o.searchRoot},n.createElement(le,{icon:i,to:e.to,onClick:h,disableHighlight:!0},n.createElement(we,{placeholder:"Search",value:r,onClick:f,onChange:p,onKeyDown:u,className:o.searchContainer,InputProps:{disableUnderline:!0,className:o.searchField},inputProps:{className:o.searchFieldHTMLInput}})))}const vt=w("div")({flex:1},{name:"BackstageSidebarSpace"});w("div")({height:8},{name:"BackstageSidebarSpacer"});const St=w("hr")(({theme:e})=>({height:1,width:"100%",background:"#383838",border:"none",margin:e.spacing(1.2,0)}),{name:"BackstageSidebarDivider"}),Qe=e=>({overflowY:"auto","&::-webkit-scrollbar":{backgroundColor:e.palette.background.default,width:"5px",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.palette.text.secondary,borderRadius:"5px"}});w("div")(({theme:e})=>{const t=Qe(e);return{flex:"0 1 auto",overflowX:"hidden",width:"100%",minHeight:"48px",overflowY:"hidden","@media (hover: none)":t,"&:hover":t}});const Xe=()=>{const{sidebarConfig:e}=c.useContext(S),t=x(e),{isOpen:r,setOpen:a}=O();if(K(l=>l.breakpoints.down("md"),{noSsr:!0}))return null;const i=()=>{a(!r)};return n.createElement(Y,{role:"button",onClick:i,className:t.expandButton,"aria-label":"Expand Sidebar","data-testid":"sidebar-expand-button"},n.createElement(m,{className:t.arrows},r?n.createElement(re,null):n.createElement(oe,null)))};ie.__docgenInfo={description:"",methods:[],displayName:"WorkaroundNavLink",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""},activeStyle:{required:!1,tsType:{name:"CSSProperties"},description:""},activeClassName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'active'",computed:!1}},"aria-current":{defaultValue:{value:"'page'",computed:!1},required:!1}}};le.__docgenInfo={description:"Creates a `SidebarItem`\n\n@remarks\nIf children contain a `SidebarSubmenu` component the `SidebarItem` will have a expandable submenu",methods:[],displayName:"SidebarItem",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};Ve.__docgenInfo={description:"",methods:[],displayName:"SidebarSearchField",props:{onSearch:{required:!0,tsType:{name:"signature",type:"function",raw:"(input: string) => void",signature:{arguments:[{type:{name:"string"},name:"input"}],return:{name:"void"}}},description:""},to:{required:!1,tsType:{name:"string"},description:""},icon:{required:!1,tsType:{name:"ComponentType",elements:[{name:"signature",type:"object",raw:`{
  fontSize?: 'medium' | 'large' | 'small' | 'inherit';
}`,signature:{properties:[{key:"fontSize",value:{name:"union",raw:"'medium' | 'large' | 'small' | 'inherit'",elements:[{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"},{name:"literal",value:"'small'"},{name:"literal",value:"'inherit'"}],required:!1}}]}}],raw:`ComponentType<{
  fontSize?: 'medium' | 'large' | 'small' | 'inherit';
}>`},description:""}}};Xe.__docgenInfo={description:`A button which allows you to expand the sidebar when clicked.

@remarks
Use optionally to replace sidebar's expand-on-hover feature with expand-on-click.

If you are using this you might want to set the \`disableExpandOnHover\` of the \`Sidebar\` to \`true\`.

@public`,methods:[],displayName:"SidebarExpandButton"};export{le as S,Ee as a,te as b,Ve as c,ne as d,St as e,vt as f,ae as g,Xe as h,j as i};
