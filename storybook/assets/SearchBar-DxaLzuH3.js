import{d as _}from"./Search-CqElDVx4.js";import{r as t,R as r}from"./index-CV65Cz2T.js";import{u as K}from"./useDebounce-9bFRwIhD.js";import{S as y,u as N}from"./SearchContext-CALk0UPB.js";import{T as z}from"./TextField-CwXF-gWd.js";import{I as b}from"./InputAdornment-BbK4g5pp.js";import{I as V}from"./IconButton-shkqm6j7.js";import{B as F}from"./Button-DU_mMl0C.js";import{u as L}from"./ApiRef-CiiQxZ8_.js";import{b as M}from"./index-CItkFWdb.js";import{A as O}from"./useAnalytics-BFZbt2Mh.js";import{c as Q}from"./ConfigApi-cQMGuQTo.js";import"./interopRequireDefault-Y9pwbXtE.js";import"./createSvgIcon-sTyAg92d.js";import"./capitalize-52YtlJa-.js";import"./defaultTheme-WHYcXxGo.js";import"./withStyles-C_eMWQcb.js";import"./hoist-non-react-statics.cjs-DscmM33_.js";import"./useControlled-DPQJ7hKL.js";import"./createSvgIcon-BoOF83CO.js";import"./debounce-DJZHKdQ4.js";import"./isMuiElement-DG475NJP.js";import"./useIsFocusVisible-CkxE1YbK.js";import"./index-BBoiwMTC.js";import"./unstable_useId-DsWtIzNz.js";import"./lodash-D2SO6J9k.js";import"./useAsync-cwiHyrW_.js";import"./useMountedState-BG_s6PIB.js";import"./api-CnXCC1gD.js";import"./FormLabel-DHO9Aw1o.js";import"./formControlState-ByiNFc8I.js";import"./useFormControl-Cf2zJBza.js";import"./InputLabel-C1BQdAFz.js";import"./Select-pXop2MzW.js";import"./react-is.production.min-D0tnNtx9.js";import"./useTheme-CyYT1vdA.js";import"./Popover-C3NuGn4W.js";import"./Modal-B_7UfOLo.js";import"./classCallCheck-BNzALLS0.js";import"./Portal-W-tpMOzA.js";import"./Paper-Ra1TVF2W.js";import"./Grow-BlrHKxvL.js";import"./utils-DmolnGpv.js";import"./TransitionGroupContext-C1n1zRT4.js";import"./List-DulzYPgQ.js";import"./ListContext-DDd8B5Hf.js";import"./Typography-DFGLiOLt.js";import"./ButtonBase-DtZzUmL6.js";const C=t.forwardRef((u,d)=>{const{onChange:n,onKeyDown:a=()=>{},onClear:i=()=>{},onSubmit:s=()=>{},debounceTime:o=200,clearButton:f=!0,fullWidth:m=!0,value:h,label:g,placeholder:S,inputProps:v={},InputProps:B={},endAdornment:E,...A}=u,I=L(Q),[p,c]=t.useState(""),l=t.useRef("");t.useEffect(()=>{c(e=>e===l.current?String(h):e)},[h,l]),K(()=>{l.current=p,n(p)},o,[p]);const x=t.useCallback(e=>{c(e.target.value)},[c]),R=t.useCallback(e=>{a&&a(e),s&&e.key==="Enter"&&s()},[a,s]),w=t.useCallback(()=>{l.current="",n(""),c(""),i&&i()},[n,i]),P=g?void 0:"Search",T=S??`Search in ${I.getOptionalString("app.title")||"Backstage"}`,k=M().getSystemIcon("search")||_,q=r.createElement(b,{position:"start"},r.createElement(V,{"aria-label":"Query",size:"small",disabled:!0},r.createElement(k,null))),D=r.createElement(b,{position:"end"},r.createElement(F,{"aria-label":"Clear",size:"small",onClick:w,onKeyDown:e=>{e.key==="Enter"&&e.stopPropagation()}},"Clear"));return r.createElement(y,{inheritParentContextIfAvailable:!0},r.createElement(z,{id:"search-bar-text-field","data-testid":"search-bar-next",variant:"outlined",margin:"normal",inputRef:d,value:p,label:g,placeholder:T,InputProps:{startAdornment:q,endAdornment:f?D:E,...B},inputProps:{"aria-label":P,...v},fullWidth:m,onChange:x,onKeyDown:R,...A}))}),U=t.forwardRef((u,d)=>{const{value:n="",onChange:a,...i}=u,{term:s,setTerm:o}=N();t.useEffect(()=>{n&&o(String(n))},[n,o]);const f=t.useCallback(m=>{a?a(m):o(m)},[a,o]);return r.createElement(y,{inheritParentContextIfAvailable:!0},r.createElement(O,{attributes:{pluginId:"search",extension:"SearchBar"}},r.createElement(C,{...i,ref:d,value:s,onChange:f})))});C.__docgenInfo={description:`All search boxes exported by the search plugin are based on the <SearchBarBase />,
and this one is based on the <InputBase /> component from Material UI.
Recommended if you don't use Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBarBase",props:{debounceTime:{required:!1,tsType:{name:"number"},description:""},clearButton:{required:!1,tsType:{name:"boolean"},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},endAdornment:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};U.__docgenInfo={description:`Recommended search bar when you use the Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBar"};export{U as SearchBar,C as SearchBarBase};
